<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- The above 4 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!-- Title  -->
    <title>test</title>

    <!-- Favicon  -->
<!--    <link rel="icon" href="images/core-img/favicon.ico">-->

    <!-- Core Style CSS -->
    <link rel="stylesheet" href="/css/core-style.css">

    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=9rw0o1zqhd"></script>

</head>

<body>
<header th:replace="fragments/header :: header"></header>

<!-- ##### Breadcumb Area Start ##### -->
<div class="breadcumb_area bg-img" style="background-image: url(images/bg-img/breadcumb.jpg);">
    <div class="container h-100">
        <div class="row h-100 align-items-center">
            <div class="col-12">
                <div class="page-title text-center">
                    <h2>test</h2>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- ##### Breadcumb Area End ##### -->

<!-- ##### Checkout Area Start ##### -->
<div class="checkout_area section-padding-80">
    <div class="container">
        <div class="row">


            <div id="map" style="width:100%;height:400px;"></div>

            <!--            <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=9rw0o1zqhd"></script>-->
            <!--            <script th:src="@{https://oapi.map.naver.com/openapi/v3/maps.js(ncpClientId=9rw0o1zqhd)}" type="text/javascript"></script>-->
            <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=9rw0o1zqhd&callback=CALLBACK_FUNCTION"></script>

            <script>
                var latitude; // 전역 변수로 선언
                var longitude; // 전역 변수로 선언

                function getLocation() {
                    if (navigator.geolocation) {
                        navigator.geolocation.getCurrentPosition(successCallback, errorCallback);
                    } else {
                        console.error('Geolocation is not supported by this browser.');
                    }
                }

                function successCallback(position) {
                    latitude = position.coords.latitude;
                    longitude = position.coords.longitude;
                    console.log('Latitude:', latitude, 'Longitude:', longitude);

                    // 위치 정보를 받은 후에 지도를 생성하거나 다른 작업을 수행할 수 있습니다.
                    createMap();
                }

                function errorCallback(error) {
                    console.error('Error getting location:', error);
                }

                function createMap() {
                    var position = new naver.maps.LatLng(latitude, longitude);

                    var map = new naver.maps.Map('map', {
                        center: position,
                        zoom: 15
                    });

                    var marker = new naver.maps.Marker({
                        position: position,
                        map: map
                    });

                    naver.maps.Event.addListener(map, 'click', function(e) {
                        marker.setPosition(e.coord);
                    });
                }

                // 호출
                getLocation();
            </script>


            <!-- 기존 -->
<!--            <script>-->
<!--                // var mapOptions = {-->
<!--                //     center: new naver.maps.LatLng(37.47872199056639, 126.88642721962299),-->
<!--                //     zoom: 15-->
<!--                // };-->
<!--                // var map = new naver.maps.Map('map', mapOptions);-->
<!--                //Latitude: 37.4786913 Longitude: 126.8863638-->
<!--                var position = new naver.maps.LatLng(37.47872199056639, 126.88642721962299);-->

<!--                var map = new naver.maps.Map('map', {-->
<!--                    center: position,-->
<!--                    zoom: 15-->
<!--                });-->

<!--                var marker = new naver.maps.Marker({-->
<!--                    position: position,-->
<!--                    map: map-->
<!--                });-->

<!--                naver.maps.Event.addListener(map, 'click', function(e) {-->
<!--                    marker.setPosition(e.coord);-->
<!--                });-->


<!--            </script>-->


        </div>
    </div>
</div>
<!-- ##### Checkout Area End ##### -->


<header th:replace="fragments/footer :: footer"></header>


<!-- jQuery (Necessary for All JavaScript Plugins) -->
<script th:src="@{/js/jquery/jquery-2.2.4.min.js}"></script>
<!-- Popper js -->
<script th:src="@{/js/popper.min.js}"></script>
<!-- Bootstrap js -->
<script th:src="@{/js/bootstrap.min.js}"></script>
<!-- Plugins js -->
<script th:src="@{/js/plugins.js}"></script>
<!-- Classy Nav js -->
<script th:src="@{/js/classy-nav.min.js}"></script>
<!-- Active js -->
<script th:src="@{/js/active.js}"></script>


</body>

</html>